<template>
    <div class="container">
        <div class="row">
            <div class="col s12">
                <h4>Mylish</h4>
            </div>
        </div>
        <div v-if="loaded" class="row">
            <div class="col s12 right-align">
                <router-link class="btn-large" to="/quest">スタート</router-link>
            </div>
            <div class="col s12">
                <ul v-for="item in pagination" class="collection">
                    <li class="collection-item">
                        <router-link :to="'/score/' + item.Id">{{ item.Date }}</router-link>
                        <span class="badge">
                            <a href="#" v-on:click.prevent="delete_score(item.Id)">
                                <i class="material-icons">delete</i>
                            </a>
                        </span>
                        <div class="row">
                            <div class="col s8">
                                <p>{{ item.Corrected }} / {{ item.Answered }}</p>
                            </div>
                            <div class="col s4 right-align">
                                <p>{{ rate(item) }}&#37;</p>
                            </div>
                        </div>
                    </li>
                </ul>
            </div>
            <div class="col s12 center-align">
                <ul class="pagination">
                    <li v-bind:class="{ disabled: is_prev_disabled }">
                        <a href="#!" v-on:click.prevent="head_page">
                            <i class="material-icons">first_page</i>
                        </a>
                    </li>
                    <li v-bind:class="{ disabled: is_prev_disabled }">
                        <a href="#!" v-on:click.prevent="prev_page">
                            <i class="material-icons">navigate_before</i>
                        </a>
                    </li>
                    <li><span class="flow-text">{{ page_no }} / {{ page_max }}</span></li>
                    <li v-bind:class="{ disabled: is_next_disabled }">
                        <a href="#!" v-on:click.prevent="next_page">
                            <i class="material-icons">navigate_next</i>
                        </a>
                    </li>
                    <li v-bind:class="{ disabled: is_next_disabled }">
                        <a href="#!" v-on:click.prevent="tail_page">
                            <i class="material-icons">last_page</i>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
        <div v-else class="row" >
            <div class="col s12 center-align">
                <img src="images/ajax_loader.gif" alt="logding" />
            </div>
        </div>
    </div>
</template>
<script src="./start.ts"></script>